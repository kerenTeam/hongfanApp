<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>编辑当前地址</title>
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=device-width">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-touch-fullscreen" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no">
		<meta name="format-detection" content="address=no">
		<link rel="stylesheet" type="text/css" href="../../css/common.css">
		<link rel="stylesheet" type="text/css" href="../../css/index.css">
		<link rel="stylesheet" type="text/css" href="../../css/mui.min.css"/>
		<link rel="stylesheet" href="../../css/reset.css">
		<script type="text/javascript" src="../../js/jquery.min.js"></script>
		<script type="text/javascript" src="../../js/jquery.flexslider-min.js"></script>
		<script src="../../js/hmt.js" type="text/javascript"></script>
		<script src="../../js/mui.min.js" type="text/javascript"></script>
		<!--引入模板引擎-->
		<script src="../../js/artTemplate-native.js" type="text/javascript"></script>
		<style type="text/css">
			.mui-bar-nav{
				box-shadow: none;
			}
			.mui-bar{
				height: 50px;
			}
			.mui-title,.mui-icon{
				line-height: 50px;
			}
			.mui-bar .mui-icon{
				padding: 0;
			}
			.hasManyCitytwo .baocun{
				font-size: 0.12rem;
			}
			#main{
				margin-top: 50px;
			}
			.toggle--off{
				background-color: #f53c42 !important;
			}
		</style>
	</head>
	<body>
		<!--header star-->
		<header class="mui-bar mui-bar-nav hasManyCity hasManyCitytwo">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left bigSize fl fanhui"></a>
		    <div class="header-tit">
				新增地址
			</div>
			<a href="#" class="fr baocun">保存</a>
		</header>
		<div id="container">
		    <div id="main" class="mui-clearfix add-address">
		    	<div class="plist clearfloat data">
			    	<ul>
						<li class="clearfloat">
							<a href="#">
								<p class="fl">收货人</p>
								<input type="text" class="fr shuru" name="" id="person" value="" placeholder="" />
							</a>
						</li>
						<li class="clearfloat">
							<a href="#">
								<p class="fl">联系电话</p>
								<input type="text" class="fr shuru" name="" id="phone" value="" placeholder="" />
							</a>
						</li>
						<li class="clearfloat">
							<a href="#">
								<p class="fl">所在地区</p>
								<i class="fr iconfont icon-jiantou1"></i>
							</a>
						</li>
					</ul>
				</div>
				<textarea id="address" rows="4" cols="" placeholder="" class="textare box-s"></textarea>
 			</div>
		    	<div class="address-btn clearfloat">
		    		<span class="szwmr fl">设为默认</span>
		    		<a href="#" class="toggle toggle--on fr"></a>
		    	</div>
		    </div>
		</div>
	</body>
	<!--模板引擎获取数据-->
	<script type="text/javascript" charset="utf-8">
      	mui.init();
		mui.plusReady(function(){
			//获取url传参
			addId = plus.webview.currentWebview().name;
			
			//地址详情列表
			mui.ajax('../../json/address.json',{									
	//				data:{"phone":""},
				dataType:'json',//服务器返回json格式数据
				type:'get',//HTTP请求类型
				timeout:1000,//超时时间设置为10秒；	              
				success:function(data){
					var thisAddArray = data.hf_user_address;
					for (var k = 0; k < thisAddArray.length; k++) {
						if(thisAddArray[k].id == addId){
							$('#person').attr('placeholder',thisAddArray[k].person);
							$('#phone').attr('placeholder',thisAddArray[k].phone);
							$('#address').attr('placeholder',thisAddArray[k].address);
						}
					}
				},
				error:function(xhr,type,errorThrown){
					//异常处理；
					console.log("获取失败！");
					mui.toast("当前网络不好请重试");
				}
			});
			
		})
    </script>
	<!--默认按钮-->
	<script type="text/javascript">
	$('.toggle').click(function(e){
		var toggle = this;
		e.preventDefault();
		$(toggle).toggleClass('toggle--on').toggleClass('toggle--off').addClass('toggle--moving');
		setTimeout(function(){
			$(toggle).removeClass('toggle--moving');
		}, 200)
	});
	</script>
</html>
