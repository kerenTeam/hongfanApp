<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />

		<link rel="stylesheet" type="text/css" href="../css/mui.min.css" />
		<link rel="stylesheet" type="text/css" href="../css/common.css">
		<link rel="stylesheet" type="text/css" href="../css/index.css">
		<link rel="stylesheet" href="../css/reset.css">

		<link rel="stylesheet" type="text/css" href="../css/cart.css" />
		
	</head>

	<body>
		<!--<header class="mui-bar mui-bar-nav ">
		    <a class="headbar mui-action-back mui-icon mui-icon-left-nav mui-pull-left normalSize"></a>
		    <h1 class="mui-title">购物车</h1>
		</header>
		 -->
		 <!--header star-->
		<header class="hasManyCity hasManyCitytwo" id="header"> 
			<div class="header-tit">
				购物车
			</div>		
		</header>
		<div style="height:50px;"></div>
		<dl class="cart">
			<dt><div class="mui-checkbox"><input name="checkbox" class="groupCheck" type="checkbox"></div>
  <a class="edit">| 编辑</a>
 </dt> 
				<dd>
				<div class="mui-checkbox"><input name="checkbox" type="checkbox"></div>
				<a href="product.html" class="goodsPic"><img src="../img/54b9cae9d6bc4.jpg" /></a>
				<div class="goodsInfor">
					<h2>
    <a href="product.html">新鲜小黄鱼特惠</a>
    <span class="num">1</span>
   </h2>
					<div class="priceArea">
						<strong>￥<span class="price">1.00</span></strong>
						
					</div>
					<div class="numberWidget"> 
						<div class="mui-numbox" data-numbox-min='1'>
					<button class="mui-btn mui-btn-numbox-minus" type="button">-</button>
					<input class="mui-input-numbox" type="number" />
					<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
				</div>
						
					</div>
				</div>
				<a class="delBtn">删除</a>
			</dd>
			<dd>
				<div class="mui-checkbox"><input name="checkbox" type="checkbox"></div>
				<a href="product.html" class="goodsPic"><img src="../img/54b9cae9d6bc4.jpg" tppabs="http://www.17sucai.com/preview/183822/2016-05-05/freshHtml/upload/goods009.jpg" /></a>
				<div class="goodsInfor">
					<h2>
    <a href="product.html">豆腐干2kg装</a>
    <span class="num">1</span>
   </h2>
					<div class="priceArea">
						<div class="extraBrief">dasa</div>
						<strong>￥1.00</strong>
						
					</div>
					<div class="numberWidget">
						<div class="mui-numbox" data-numbox-min='1'>
					<button class="mui-btn mui-btn-numbox-minus" type="button">-</button>
					<input class="mui-input-numbox" type="number" />
					<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
				</div>
					</div>
				</div>
				<a class="delBtn">删除</a>
			</dd>
			<dd>
				<div class="mui-checkbox"><input name="checkbox" type="checkbox"></div>
				<a href="product.html" class="goodsPic"><img src="../img/54b9cae9d6bc4.jpg" tppabs="http://www.17sucai.com/preview/183822/2016-05-05/freshHtml/upload/goods007.jpg" /></a>
				<div class="goodsInfor">
					<h2>
    <a href="product.html">优质牛肉vdssafdasdasddfadfasdfas撒的发生的发生的特价</a>
    <span class="num">1</span>
   </h2>
					<div class="priceArea">
						<strong>￥<span class="price">1.00</span></strong>
						
					</div>
					<div class="numberWidget">
						<div class="mui-numbox" data-numbox-min='1'>
					<button class="mui-btn mui-btn-numbox-minus" type="button">-</button>
					<input class="mui-input-numbox" type="number" />
					<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
				</div>
					</div>
				</div>
				<a class="delBtn">删除</a>
			</dd>
			<dd>
				<div class="mui-checkbox"><input name="checkbox" type="checkbox"></div>
				<a href="product.html" class="goodsPic"><img src="../img/54b9cae9d6bc4.jpg" tppabs="http://www.17sucai.com/preview/183822/2016-05-05/freshHtml/upload/goods007.jpg" /></a>
				<div class="goodsInfor">
					<h2>
    <a href="product.html">优质牛肉vdssafdasdasddfadfasdfas撒的发生的发生的特价</a>
    <span class="num">1</span>
   </h2>
					<div class="priceArea">
						<strong>￥<span class="price">1.00</span></strong>
						
					</div>
					<div class="numberWidget">
						<div class="mui-numbox" data-numbox-min='1'>
					<button class="mui-btn mui-btn-numbox-minus" type="button">-</button>
					<input class="mui-input-numbox" type="number" />
					<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
				</div>
					</div>
				</div>
				<a class="delBtn">删除</a>
			</dd>
		</dl>
		
		<dl class="cart">
			<dt><div class="mui-checkbox"><input name="checkbox" class="groupCheck" type="checkbox"></div>
  <a class="edit">| 编辑</a>
 </dt> 
				<dd>
				<div class="mui-checkbox"><input name="checkbox" type="checkbox"></div>
				<a href="product.html" class="goodsPic"><img src="../img/54b9cae9d6bc4.jpg" /></a>
				<div class="goodsInfor">
					<h2>
    <a href="product.html">新鲜小黄鱼特惠</a>
    <span class="num">1</span>
   </h2>
					<div class="priceArea">
						<strong>￥<span class="price">1.00</span></strong>
						
					</div>
					<div class="numberWidget"> 
						<div class="mui-numbox" data-numbox-min='1'>
					<button class="mui-btn mui-btn-numbox-minus" type="button">-</button>
					<input class="mui-input-numbox" type="number" />
					<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
				</div>
						
					</div>
				</div>
				<a class="delBtn">删除</a>
			</dd>
			<dd>
				<div class="mui-checkbox"><input name="checkbox" type="checkbox"></div>
				<a href="product.html" class="goodsPic"><img src="../img/54b9cae9d6bc4.jpg" tppabs="http://www.17sucai.com/preview/183822/2016-05-05/freshHtml/upload/goods009.jpg" /></a>
				<div class="goodsInfor">
					<h2>
    <a href="product.html">豆腐干2kg装</a>
    <span class="num">1</span>
   </h2>
					<div class="priceArea">
						<div class="extraBrief">dasa</div>
						<strong>￥1.00</strong>
						
					</div>
					<div class="numberWidget">
						<div class="mui-numbox" data-numbox-min='1'>
					<button class="mui-btn mui-btn-numbox-minus" type="button">-</button>
					<input class="mui-input-numbox" type="number" />
					<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
				</div>
					</div>
				</div>
				<a class="delBtn">删除</a>
			</dd>
			<dd>
				<div class="mui-checkbox"><input name="checkbox" type="checkbox"></div>
				<a href="product.html" class="goodsPic"><img src="../img/54b9cae9d6bc4.jpg" tppabs="http://www.17sucai.com/preview/183822/2016-05-05/freshHtml/upload/goods007.jpg" /></a>
				<div class="goodsInfor">
					<h2>
    <a href="product.html">优质牛肉vdssafdasdasddfadfasdfas撒的发生的发生的特价</a>
    <span class="num">1</span>
   </h2>
					<div class="priceArea">
						<strong>￥<span class="price">1.00</span></strong>
						
					</div>
					<div class="numberWidget">
						<div class="mui-numbox" data-numbox-min='1'>
					<button class="mui-btn mui-btn-numbox-minus" type="button">-</button>
					<input class="mui-input-numbox" type="number" />
					<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
				</div>
					</div>
				</div>
				<a class="delBtn">删除</a>
			</dd> 
		</dl>
		
		<!--bottom nav-->
		<div style="height:1rem;"></div>
		<aside class="btmNav">
			<a><div class="mui-checkbox"><input name="checkbox" id="totalCheck" type="checkbox"></div>合计：￥<span class="totalMoney">0</span></a>
			<a href="confirm_order.html" tppabs="http://www.17sucai.com/preview/183822/2016-05-05/freshHtml/confirm_order.html" style="background:#f53c42;color:white;text-shadow:none;">立即下单<span class="totalNum" style="display: none;">0</span></a>
		</aside>
		
		<script type="text/javascript" src="http://www.17sucai.com/preview/183822/2016-05-05/freshHtml/js/jquery.js"></script>
		<script src="../js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init()
		</script>
	</body>
<script>
			$(document).ready(function() {
				//show or hide:delBtn
				$(".edit").toggle(function() {
					$(this).parent().siblings("dd").find(".delBtn").fadeIn();
					$(this).html("完成");
					$(this).parentsUntil("body").find(".numberWidget").show();
					$(".priceArea").hide();
				}, function() {
					$(this).parent().siblings("dd").find(".delBtn").fadeOut();
					$(this).html("| 编辑");
					$(".numberWidget").hide();
					$(".priceArea").show();
				});
				//delBtn
				$(".delBtn").click(function() {
					var curCart = $(this).parentsUntil("body");
					$(this).parent().remove();
					//判断该组商品是否删除完
						
					if(curCart.find("dd").length == 0) {
						var tipsCont = "<mark style='display:block;background:none;text-align:center;color:grey;'>购物车为空！</mark>"
						$(curCart).remove();
						if($('.cart').length ==0){
							$("body").append(tipsCont);
						}
					}
				}); 
				//单组 全选
				$('dl dt .mui-checkbox').click(function(){
					if($(this).find("input").is(':checked')){
						//alert(1);
						$(this).parentsUntil("body").find("input").attr("checked",true);
					}
					else{
						//alert(2);
						$(this).parentsUntil("body").find("input").attr("checked",false);
					}
				})
 				//单个 选择
				$('dl dd .mui-checkbox').click(function(){ 
					var length = $(this).parentsUntil("body").find("dd").length;
 					var checkLength = $(this).parentsUntil("body").find("input[type='checkbox']:checked").length;

				if($(this).find("input").prop('checked')==false){
					$(this).parentsUntil("body").find(".groupCheck").attr("checked",false)
					 
				}else{
					if(length==checkLength){
						$(this).parentsUntil("body").find(".groupCheck").attr("checked",true);}
						
				}
					 
				})
				
				
			});
		</script>
</html>