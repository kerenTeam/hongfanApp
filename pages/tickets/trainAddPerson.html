<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>新增乘机人</title>
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=device-width">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-touch-fullscreen" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no">
		<meta name="format-detection" content="address=no">
		<link rel="stylesheet" type="text/css" href="../../css/mui.min.css"/>
		<link rel="stylesheet" type="text/css" href="../../css/common.css">
		<link rel="stylesheet" type="text/css" href="../../css/index.css">
		<link rel="stylesheet" href="../../css/reset.css">
		<!--<link href="../../css/mui.picker.min.css" rel="stylesheet" />-->
		<!--<link href="../../css/mui.poppicker.css" rel="stylesheet" />-->
		<!--<script type="text/javascript" src="../../js/jquery.min.js"></script>-->
		<script type="text/javascript" src="../../js/mui.min.js"></script>
		<!--<script type="text/javascript" src="../../js/jquery.flexslider-min.js"></script>-->
		<!--<script src=" ../../js/hmt.js" type="text/javascript"></script>-->
		<!--<script src="../../js/other.js" type="text/javascript" charset="utf-8"></script>-->
		<script src="../../js/app.js" type="text/javascript" ></script>
		<!--<script src="../../js/mui.picker.min.js"></script>-->
		<!--<script src="../../js/mui.poppicker.js"></script>-->
		<!--<script src="../../js/binaryajax.js" ></script>-->
		<!--引入模板引擎-->
		<script src="../../js/artTemplate-native.js" type="text/javascript" ></script>
		<style type="text/css">
			.mui-bar{
				height: 50px;
				box-shadow: none;
			}
			.mui-title,.mui-icon{
				line-height: 50px;
			}
			.mui-bar .mui-icon{
				padding: 0;
			}
			#main{
				margin-top: 50px;
			}
			
			.guess-like,dl.list{
				border-bottom: 1px solid #eee;
				background-color: #EFEFF4;
			}
			.right{
				text-align: right;
			}
			.middle{
				text-align: center;
			}
			.strong-color{
				color: #f53c42 !important;
			}
			.Lgray{
				font-size: 12px !important;
				color: #999 !important;
				margin-top: 14px;
			}
			.mui-badge-blue, .mui-badge-primary{
				background-color: #fff;
				border: 1px solid #999;
				color: #999 !important;
			}
			
			.moreone{
				line-height: 50px;
			}
			dl.list .db>.react{
				padding: 0;
				margin: 0;
			}
			dl.list .db{
				height: 50px;
			}
			.grade-eject>ul>li, .Category-eject>ul>li, .Sort-eject>ul>li{
				line-height: 40px;
			}
			
			/*这一页*/
			.timeBox{
				position: relative;
			}
			.timeBox p{
				font-size: 24px;
				color: #333;
				line-height: 22px;
			}
			.timeBox .ad{
				font-size: 12px;
				color: #999;
				font-weight: normal;
				line-height: 24px;
			}
			.timeBox .bage{
				position: absolute;
				font-size: 12px;
				line-height: 10px;
				right: 15px;
				top: 10px;
				color: #666;
			}
			.price{
				text-align: right;
				font-size: 24px;
				color: #f53c42;
			}
			.airTip p{
				text-align: right;
				line-height: 40px !important;
			}
			.Achange {
				color: #333;
			}
			.Achange span{
				color: #ff5601;
				font-size: 14px !important;
			}
			.inputWrap{
				border: none;
				border-radius: 3px;
				color: #666;
				line-height: 50px;
				background-color: rgba(255,255,255,0.8);
				margin: 10px 0;
			}
			.ad img{
				width: 15%;
				margin-top: -3px;
			}
			.dot{
				background-color: #bfbfbf;
				width: 5px;
				height: 5px;
				padding: 4px;
				margin: 0 5px;
				border-radius: 50%;
				display: inline-block;
			}
			.line{
				width: 3px;
				height: 12px;
				position: absolute;
				left: 8px;
				top: 42px;
				background-color: #ddd;
			}
			.guess-like{
				padding-top:50px;
			}
			.react >div{
				line-height: 50px !important;
			}
			.airTip button{
				margin-left: 15px !important;
				background-color: #f53c42;
				color: #fff;
				border: none;
			}
			dl.list {
				border-top: none; 
				margin-top: 4%; 
			}
			.react{
				padding: 0 .15rem !important;
			}
			dl.list dt, dl.list dd{
				background-color: #fff;
			}
			.lineL{
				border-left: 1px solid #DDD8CE;
			}
			.phone{
				border: none;
			}
			.title{
				font-size:16px;
				font-weight: bold;
			}
			.tiny{
				font-size: 12px;
				line-height: 14px;
				margin-top: -5px;
				margin-bottom: 10px;
			}
			.bo{
				color: #ffc900;
			}
			.addMan{
				background-color: #ffc900;
				border: none;
				color: #fff;
				margin-top: 10%;
				line-height: 24px;
				font-size: 15px;
				margin-left: 15%;
			}
			dl.list dt, dl.list dd{
				border-bottom: 1px solid #EFEFF4;
			}
			#showCityPicker3{
				line-height: 30px;
				float: right;
				border: none;
				padding: 0;
				height: 30px;
			}
			#showCityPicker3 span{
				line-height: 40px;
				color: #666;
			}
			.id p{
				display: inline-block;
			}
			/*header样式*/
			/*.mui-bar-nav {
				background-color: #FFF !important;
				border-bottom: 1px solid #EFEFF4;
			}
			.hasManyCitytwo .header-tit{
				color: #333;
			}
			.hasManyCitytwo .fanhui{
				color: #333;
			}*/
			/*.hasManyCitytwo .baocun{
				color: #f53c42 ;
			}*/
			input[type=text]{
				border: none;
				margin-bottom: 0;
				padding: 0;
				font-size: 14px;
			}
		</style>
	</head>
	<body>
		<header class="mui-bar mui-bar-nav hasManyCity hasManyCitytwo">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left bigSize fl fanhui"></a>
		    <div class="header-tit">
				新增乘车人
			</div>
			<a href="javascript:;" class="fr baocun" onclick="save()">保存</a>
		</header>
		
		<div id="main">
			<dl class="list" id="goodsList">
				<dd class="goodsItem">
					<a class="react mui-row">
						<div class="mui-col-sm-3 mui-col-xs-3">
							<p class="black">姓名 </p>
				       </div>
				        <div class="mui-col-sm-9 mui-col-xs-9">
				        	<input type="text" name="" id="newName" value="" class="phone" placeholder="与乘客证件一致"/>
				        </div>
					</a>
				</dd>
				<!--<dd class="goodsItem">
					<a class="react mui-row id">
						<div class="mui-col-sm-3 mui-col-xs-3">
							<p class="black">分类</p>
				      	</div>
				        <div class="mui-col-sm-9 mui-col-xs-9">
							<div id='cityResult3' class="ui-alert">身份证</div>
				        </div>
					</a>
				</dd>-->
				<dd class="goodsItem">
					<a class="react mui-row">
						<div class="mui-col-sm-3 mui-col-xs-3">
							<p class="black">电话号码 </p>
				       </div>
				        <div class="mui-col-sm-9 mui-col-xs-9">
				        	<input type="text" name="" id="phonenum" value="" class="phone" placeholder="请输入手机号"/>
				        </div>
					</a>
				</dd>
				<dd class="goodsItem">
					<a class="react mui-row">
						<div class="mui-col-sm-3 mui-col-xs-3">
							<p class="black">身份证号码 </p>
				       </div>
				        <div class="mui-col-sm-9 mui-col-xs-9">
				        	<input type="text" name="" id="idNo" value="" class="phone" placeholder="与乘客证件一致"/>
				        </div>
					</a>
				</dd>
			</dl>
		</div>
	</body>
	<script>
//		(function($, doc) {
//			$.init();
//			$.ready(function() {
//				//分类选择
//				var userPicker = new $.PopPicker();
//				userPicker.setData([{
//					text: '身份证'
////				}, {
////					text: '护照'
////				},{
////					text: '港澳通行证'
////				},{
////					text: '台湾通行证'
////				},{
////					text: '户口簿'
//				}]);
//				var showUserPickerButton = doc.getElementById('showCityPicker3');
//				var userResult = doc.getElementById('cityResult3');
//				showUserPickerButton.addEventListener('tap', function(event) {
//					userPicker.show(function(items) {
//						userResult.innerText = items[0].text;
//						//返回 false 可以阻止选择框的关闭
//						//return false;
//					});
//				}, false);
//			});
//		})(mui, document);
	</script>
	<script type="text/javascript">
		function save(){
			var newName = mui('#newName')[0].value;
//			var idType = mui('#cityResult3')[0].innerHTML;//证件分类选择
			var idNo = mui('#idNo')[0].value;
			var phonenum = mui('#phonenum')[0].value;
			var regIdCard = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/; //身份证验证
			var reg_phone = /^1((3|4|5|8|7){1}\d{1}|70)\d{8}$/;//手机号正则
			//验证
			if(!newName){
				mui.toast("请输入姓名！");  
			    mui('#newName')[0].focus();
			}else if(reg_phone.test(phonenum) === false){   
			    mui.toast("请输入正确的手机号！");  
			    mui('#phonenum')[0].focus();
			}else if(regIdCard.test(idNo) === false){  
			    mui.toast("请输入正确的身份证号！");  
			    mui('#idNo')[0].focus();
			}else{
				mui.plusReady(function(){
					plus.webview.currentWebview().close();//关闭当前界面
					mui.fire(plus.webview.getWebviewById('trainOrder.html'),'refreshPerson',{newName:newName,idNo:idNo,phonenum:phonenum});
				})
			}
		}
		
	</script>
</html>