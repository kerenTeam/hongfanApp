<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>机票列表</title>
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=device-width">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-touch-fullscreen" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no">
		<meta name="format-detection" content="address=no">
		<link rel="stylesheet" type="text/css" href="../../css/mui.min.css"/>
		<link rel="stylesheet" type="text/css" href="../../css/common.css">
		<link rel="stylesheet" type="text/css" href="../../css/index.css">
		<link rel="stylesheet" href="../../css/reset.css">
		<script type="text/javascript" src="../../js/jquery.min.js"></script>
		<script type="text/javascript" src="../../js/mui.min.js"></script>
		<script type="text/javascript" src="../../js/jquery.flexslider-min.js"></script>
		<script src=" ../../js/hmt.js" type="text/javascript"></script>
		<script src="../../js/other.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/app.js" type="text/javascript" ></script>
		
		<!--引入模板引擎-->
		<script src="../../js/artTemplate-native.js" type="text/javascript" ></script>
		<!--日历选择插件-->
		<link href="../../css/calendar.css" rel="stylesheet" />
		<script src="../../js/calendar.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			.mui-bar{
				height: 50px;
				box-shadow: none;
			}
			.mui-bar .mui-icon{
				padding: 0;
			}
			
			/*这一页*/
			.grade-eject, .Category-eject, .Sort-eject{
				height: 164px;
			}
			div.screening>ul>li{
				border-left: 1px solid #eee !important;
			}
			dl.list dt, dl.list dd{
				border-bottom: 1px solid #eee;
				background-color: #fff;
				margin-bottom: 4%;
				box-shadow: 0px 0px 6px #ccc;
				margin: 10px;
			}
			.guess-like,dl.list{
				border-bottom: 1px solid #eee;
				background-color: #EFEFF4;
			}
			.right{
				text-align: right;
			}
			.middle{
				text-align: center;
			}
			.strong-color{
				color: #f53c42 !important;
			}
			.Lgray{
				font-size: 12px !important;
				color: #999 !important;
				margin-top: 14px;
			}
			.mui-badge-blue, .mui-badge-primary{
				background-color: #fff;
				border: 1px solid #999;
				color: #999 !important;
			}
			
			.moreone{
				line-height: 50px;
			}
			dl.list .db>.react{
				padding: 0;
				margin: 0;
			}
			dl.list .db{
				height: 50px;
			}
			.grade-eject>ul>li, .Category-eject>ul>li, .Sort-eject>ul>li{
				line-height: 40px;
			}
			
			/*这一页*/
			.timeBox{
				position: relative;
			}
			.timeBox p{
				font-size: 24px;
				color: #333;
				line-height: 22px;
			}
			.timeBox .ad{
				font-size: 12px;
				color: #999;
				font-weight: normal;
				line-height: 20px;
			}
			.timeBox .bage{
				position: absolute;
				font-size: 12px;
				line-height: 10px;
				right: 8px;
				top: 0px;
				color: #666;
			}
			.price{
				text-align: right;
				font-size: 24px;
				line-height: 30px;
				color: #f53c42;
			}
			.airTip p{
				text-align: right;
				line-height: 24px;
				font-size: 12px !important;
			}
			.Achange {
				color: #333;
			}
			.Achange span{
				color: #ff5601;
				font-size: 14px !important;
			}
			.order-bottom{
				background-color: #f7f7f7;
				border-top: 1px solid #f7f7f7;
				text-align: right;
				height: 40px;
				line-height: 40px;
			}
			.order-bottom p{
				font-size: 12px;
				line-height: 40px !important;
			}
			.inputWrap{
				border: none;
				border-radius: 3px;
				color: #666;
				line-height: 50px;
				background-color: rgba(255,255,255,0.8);
				margin: 10px 0;
			}
			.head{
				background-color: #ffc900;
				margin-top: 86px;
			}
			.hLeft{
				text-align: right;
				padding: 5px 20px 5px 10px;
			}
			.hLeft span{
				display: inline-block;
				float: left;
				font-size: 16px;
				line-height: 40px;
			}
			.hMiddle{
				text-align: center;
			}
			.hRight{
				text-align: left;
				padding: 5px 10px 5px 20px;
			}
			.hRight span{
				display: inline-block;
				float: right;
				font-size: 16px;
				line-height: 40px;
			}
			.iconWrap{
				position: relative;
			}
			.iconWrap input{
				border: none;
				width: 100%;
				margin: 5px 0;
				font-size: 16px;
				text-indent: 20px;
			}
			.cIcon{
				position: absolute;
				top: 12px;
				right: 4%;
				width: 12%;
			}
			.guess-like{
				padding-top: 0;
			}
			div.screening>ul{
				border-bottom: none;
			}
			/*header样式*/
			.mui-bar-nav {
				background-color: #FFF !important;
			}
			.hasManyCitytwo .header-tit{
				color: #333;
			}
			.hasManyCitytwo .fanhui{
				color: #333;
			}
			div.screening{
				border-top: 1px solid #EFEFF4;
			}
		</style>
	</head>
	<body>
		<header class="mui-bar mui-bar-nav hasManyCity hasManyCitytwo">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left bigSize fl fanhui"></a>
		    <div class="header-tit">
				机票
			</div>
		</header>
		<div class="head">
			<div class="mui-row">
			    <div class="mui-col-sm-3 mui-col-xs-3 hLeft">
					<div class="timeBox">
						<span class="mui-icon mui-icon-arrowleft"></span>
						<p class="ad black">前一天</p>
						<p class="ad black">￥360</p>
					</div>
		       	</div>
		        <div class="mui-col-sm-6 mui-col-xs-6 hMiddle">
		        	<div class="timeBox iconWrap">
			        	<input type="text" class="calendars" hours hours-past value="全年"><br>
			        	<img src="../../img/tickets/calender.png"/ class="cIcon">
					</div>
		        </div>
		         <div class="mui-col-sm-3 mui-col-xs-3 hRight">
					<div class="timeBox">
						<span class="mui-icon mui-icon-arrowright"></span>
						<p class="ad black">后一天</p>
						<p class="ad black">￥390</p>
					</div>
		       	</div>
			</div>
		</div>
		<div class="screening">
		    <ul>
		        <li class="Brand">起飞时段</li>
		        <li class="Regional">航空公司</li>
		        <li class="Sort">筛选</li>
		    </ul>
		</div>
		<div class="Category-eject">
		    <ul class="Category-w" id="Categorytw">
		        <li>不限</li>
		        <li>上午 00:00-11:59</li>
		        <li>下午 12:00-17:59</li>
		        <li>晚上 18:00-23:59</li>
		    </ul>
		</div>
		<div class="grade-eject">
		    <ul class="grade-w" id="gradew">
		        <li onclick="order('sales','asc')">从高到低</li>
		    </ul>
		</div>
		<div class="Sort-eject Sort-height">
		    <ul class="Sort-Sort" id="Sort-Sort">
		        <li onclick="order('price','desc')">从低到高</li>
		        <li onclick="order('price','asc')">从高到低</li>
		    </ul>
		</div>
		<div id="main">
			<div class="guess-like">
				
				<dl class="list" id="goodsList">
					<dd class="goodsItem" onclick="goPlane()">
						<a class="react mui-row">
							<div class="mui-col-sm-3 mui-col-xs-3">
								<div class="timeBox">
									<p>22:40 </p>
									<p class="ad">双流T1</p>
								</div>
					        </div>
					        <div class="mui-col-sm-1 mui-col-xs-1">-</div>
					        <div class="mui-col-sm-3 mui-col-xs-3">
					        	<div class="timeBox">
									<p>00:40</p>
									<p class="ad">首都T1</p>
									<div class="bage">+1</div>
								</div>
					        </div>
					        <div class="mui-col-sm-5 mui-col-xs-5 airTip">
					        	<p class="Achange">14h50m</p>
					        	<p>国航CA1746+厦门航空</p>
					        </div>
					        <div class="mui-col-sm-3 mui-col-xs-3">
								<div class="timeBox">
									<p>22:40 </p>
									<p class="ad">双流T1</p>
								</div>
					        </div>
					        <div class="mui-col-sm-1 mui-col-xs-1">-</div>
					        <div class="mui-col-sm-3 mui-col-xs-3">
					        	<div class="timeBox">
									<p>00:40</p>
									<p class="ad">首都T1</p>
									<div class="bage">+1</div>
								</div>
					        </div>
					        <div class="mui-col-sm-5 mui-col-xs-5 airTip">
					        	<p class="Achange"><span>中转1次 </span>14h50m</p>
					        	<p>国航CA1746</p>
					        </div>
						</a>
						<div class="order-bottom clearfloat box-s tip">
							<p>人均含税总价<span class="price"><sub>￥</sub>342</span></p>
						</div>
					</dd>
					<dd class="goodsItem" onclick="goPlane()">
						<a class="react mui-row">
							<div class="mui-col-sm-3 mui-col-xs-3">
								<div class="timeBox">
									<p>22:40 </p>
									<p class="ad">双流T1</p>
								</div>
					        </div>
					        <div class="mui-col-sm-1 mui-col-xs-1">-</div>
					        <div class="mui-col-sm-3 mui-col-xs-3">
					        	<div class="timeBox">
									<p>00:40</p>
									<p class="ad">首都T1</p>
									<div class="bage">+1</div>
								</div>
					        </div>
					        <div class="mui-col-sm-5 mui-col-xs-5 airTip">
					        	<p class="Achange"><span>中转1次 </span>14h50m</p>
					        	<p>国航CA1746</p>
					        </div>
						</a>
						<div class="order-bottom clearfloat box-s tip">
							<p>人均含税总价<span class="price"><sub>￥</sub>342</span></p>
						</div>
					</dd>
					<dd class="db">
						<a class="react " href="javascript:;">
							<div class="moreone">加载更多</div>
						</a>
					</dd>
				</dl>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		//点击机票进入详情
		window.goPlane = function(){
			openview({ 
				view:'planeDetail.html'
			})
		}
		mui.init({
			swipeBack:true //启用右滑关闭功能
		});
		(function($) {
			$('#scroll').scroll({
				indicators: true //是否显示滚动条
			});
			var segmentedControl = document.getElementById('segmentedControl');
			$('.mui-input-group').on('change', 'input', function() {
				if (this.checked) {
					var styleEl = document.querySelector('input[name="style"]:checked');
					var colorEl = document.querySelector('input[name="color"]:checked');
					if (styleEl && colorEl) {
						var style = styleEl.value;
						var color = colorEl.value;
						segmentedControl.className = 'mui-segmented-control' + (style ? (' mui-segmented-control-' + style) : '') + ' mui-segmented-control-' + color;
					}
				}
			});
		})(mui);
	</script>
	<!--数据渲染-->
	<script type="text/javascript">
		mui.plusReady(function(){
			var planeType = plus.webview.currentWebview().planeType;
			//往返
			var from = plus.webview.currentWebview().from;
			var arrive = plus.webview.currentWebview().arrive;
			var fromTime = plus.webview.currentWebview().fromTime;
			var arriveTime = plus.webview.currentWebview().arriveTime;
			//单程
			var from1 = plus.webview.currentWebview().from1;
			var arrive1 = plus.webview.currentWebview().arrive1;
			var time1 = plus.webview.currentWebview().time1;
			alert(planeType);
			//获取缓存
			var oldToken = plus.storage.getItem('oldToken');
			if(planeType == "往返"){
					mui.ajax(serverUrl +'/api/index/indexheaderdata',{
	//				data:{userid : 148},
					dataType:'json',
					type:'post',
					timeout:10000,
					headers:{"token":oldToken},	 
					success:function(data,type,xhr){
						console.log('banner返回'+JSON.stringify(data));
						var bannerObj = {};
						var recommentObj = {};
						bannerObj.bannerLi =eval("("+data.data.banner[0].banner+")") ;
						 
						console.log(data.data.recomment)
						bannerObj.url = serverimgUrl;
						var html = template('banner-detail',bannerObj);
						document.getElementById('banner').innerHTML = html;
						
					},
					error:function(xhr,type,errorThrown){
						console.log('响应失败  !');
					}
				});
			}
		})
	</script>
</html>